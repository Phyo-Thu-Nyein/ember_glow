<div class="container">
  <!-- All Users section -->
  <section class="all-users-container">
    <!-- Heading -->
    <h1>All Users</h1>

    <!-- Display User cards -->
     <div class="desktop-view">
         <div
           class="user-card flex"
           *ngFor="let user of allUsers"
           [ngClass]="{ 'user-card': user.role != 1 }"
         >
           <ng-container *ngIf="user.role != 1">
             <div class="user-info">
               <table>
                 <tr>
                     <th colspan="2">
                         <p>{{ user.name }}</p>
                     </th>
                 </tr>
                 <tr>
                   <td class="icons"><i class="bx bxs-user-badge"></i></td>
                   <td>
                     <p>{{ getRoleText(user.role!) }}</p>
                   </td>
                 </tr>
                 <tr>
                   <td class="icons"><i class="bx bxs-envelope"></i></td>
                   <td>
                     <p>{{ user.email }}</p>
                   </td>
                 </tr>
                 <tr>
                   <td class="icons"><i class="bx bxs-phone"></i></td>
                   <td>
                     <p>{{ user.phone }}</p>
                   </td>
                 </tr>
               </table>
             </div>
             <button
               class="trash-btn"
               (click)="showUserId(user._id!, user.name!)"
               onclick="confirmDel.showModal()"
             >
               <i class="bx bxs-trash"></i>
             </button>
           </ng-container>
         </div>
     </div>

    <!-- Dialog to confirm the user delete -->
    <dialog id="confirmDel" class="flex">
      <h1 class="flex">
        <span>Warning</span>
        <i class="bx bx-error-alt"></i>
      </h1>
      <p>
        Are you sure you want to delete this user,
        <span class="to-be-deleted-name">{{ user2BeDeletedName }}</span> ?
        <br />
        This action cannot be reversible!
      </p>
      <div class="btn-wrapper flex">
        <button class="btn cancel-btn" onclick="confirmDel.close()">
          Cancel
        </button>
        <button
          class="btn confirm-btn"
          (click)="deleteUserById(user2BeDeletedId)"
          onclick="confirmDel.close()"
        >
          Delete
        </button>
      </div>
    </dialog>
  </section>
</div>
