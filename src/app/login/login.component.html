<!-- BG IMAGE -->
<div class="bg-img"></div>

<!-- BLUR EFFECT  -->
<div class="blur"></div>

<div class="dummy-body flex">
  <!-- FORM SECTION  -->
  <div class="form-wrapper flex">
    <h1>Login</h1>
    <div class="form-img-container flex">
      <form (ngSubmit)="login()" #loginForm="ngForm" class="flex">
        <!-- EMAIL FIELD -->
        <div class="input-box">
          <input
            type="email"
            name="email"
            id="email"
            placeholder="Email Address"
            [(ngModel)]="email"
            required
            minlength="4"
            #mail="ngModel"
            pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
          />
          <i [ngClass]="{
            'green-icon' : isFieldValid(mail),
            'red-icon' : isFieldInvalid(mail)
          }" class="bx bxs-envelope"></i>
          <!-- input error message -->
          <p
            class="text-red-bold"
            *ngIf="mail.errors && mail.touched && mail.dirty"
          >
            invalid email
          </p>
        </div>
        <!-- PASSWORD FIELD -->
        <div class="input-box">
          <input
            type="password"
            name="password"
            id="password"
            placeholder="Enter Password"
            [(ngModel)]="password"
            required
            minlength="8"
            #pass="ngModel"
          />
          <i [ngClass]="{
            'green-icon': isFieldValid(pass),
            'red-icon': isFieldInvalid(pass)
          }" class="bx bxs-lock-alt"></i>
          <!-- input error message -->
          <p
            class="text-red-bold"
            *ngIf="pass.errors && pass.touched && pass.dirty"
          >
            at least 8 characters
          </p>
        </div>

        <!-- <button type="submit" id="register" [disabled]="!agree.checked" class="btn">Register</button> -->
        <!-- <button type="submit" [disabled]="loginForm.invalid || onSubmit" id="login" class="btn">Login</button> -->
        <button class="btn flex" [disabled]="loginForm.invalid || onSubmit">
          <ng-container *ngIf="onSubmit === false; else submittingEmail">
            Login 
          </ng-container>
          <ng-template #submittingEmail>
              <i class="bx bx-loader-circle bx-spin"></i>
          </ng-template>
        </button>
  
        <div class="register-link">
          <p>
            Haven't registered?
            <a routerLink="/register">Register</a>
            here!
          </p>
        </div>
      </form>
  
      <!-- FORM IMAGE  -->
      <div class="form-image">
        <img
          src="../../assets/images/icons/hotel-logo-600.png"
          class=""
          alt="hotel logo"
        />
        <p>EMBER GLOW</p>
      </div>
    </div>
  </div>
</div>
